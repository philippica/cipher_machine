<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>ç„–è‚‰é¢ - puzzle huntå·¥å…·é›†</title>
		<style>.capsule{background-color:#9eddff;width:100%;height:20px;border-radius:10px;text-align:center;margin:2px;cursor:pointer;margin:5px}.flag-shape{margin:10px;width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-bottom:30px solid #000}.transparent{opacity:.1}.capsule:hover{font-weight:700;-webkit-transform:translateX(-3px);transform:translateX(-3px);transition:.5s ease}.content-area{height:fit-content}.container{width:50%}.content-area textarea{background-color:#f8f8f8;font-size:16px;margin:10px}.help-content{font-size:12px;color:#adabab;background-color:unset}#word-search-content,#word-search-mat{width:400px;height:400px;margin-left:20px}#word-search-mat{display:flex}.word-content{width:80%;display:flex;flex-wrap:wrap;word-break:break-word}#word-find-similarity-hint{margin-top:30px}.word-content>div{margin:5px}.word-content>b{flex-basis:100%;font-size:20px}#footer,h1,h3{margin:40px;display:flex;justify-content:space-around}.face-container{width:fit-content;display:flex;width:100%;justify-content:space-around}#expand{width:fit-content;margin:10px}.face{height:200px;width:200px}.cube-block{background-color:gray;vertical-align:bottom;border:1px solid}#rubik-cube{border:5px solid}.piano{height:250px;width:100%}.piano li{padding:0;list-style:none;position:relative;float:left}.piano .white{height:16em;width:3.1em;z-index:1;border-left:1px solid #bbb;border-bottom:1px solid #bbb;border-radius:0 0 5px 5px;box-shadow:-1px 0 0 rgba(255,255,255,.8) inset,0 0 5px #ccc inset,0 0 3px rgba(0,0,0,.2);background:linear-gradient(to bottom,#eee 0,#fff 100%)}.piano .white:active{border-top:1px solid #777;border-left:1px solid #999;border-bottom:1px solid #999;box-shadow:2px 0 3px rgba(0,0,0,.1) inset,-5px 5px 20px rgba(0,0,0,.2) inset,0 0 3px rgba(0,0,0,.2);background:linear-gradient(to bottom,#fff 0,#e9e9e9 100%)}.piano .black{height:8em;width:2em;margin:0 0 0 -1em;z-index:2;border:1px solid #000;border-radius:0 0 3px 3px;box-shadow:-1px -1px 2px rgba(255,255,255,.2) inset,0 -5px 2px 3px rgba(0,0,0,.6) inset,0 2px 4px rgba(0,0,0,.5);background:linear-gradient(45deg,#222 0,#555 100%)}.piano .black:active{box-shadow:-1px -1px 2px rgba(255,255,255,.2) inset,0 -2px 2px 3px rgba(0,0,0,.6) inset,0 1px 2px rgba(0,0,0,.5);background:linear-gradient(to right,#444 0,#222 100%)}.piano .sp{margin:0 0 0 -1em}.ws-answer{cursor:pointer}.ws-answer:hover{border:1px solid}.blind-dot{border-radius:50%;width:30px;height:30px;border:1px solid;margin:10px 2px 2px 10px}#blind-letter,#flag-letter{font-size:20px;margin-left:40px;margin-top:20px}.map-unit{width:25px}.map-unit input{width:22px;background-color:#80808036}.map-unit div{margin-left:4px}.sudoku-grid{width:30px;height:30px;border:2px solid;margin-right:-1px;margin-bottom:-1px}#sudokuContainer,#word-search-mat{display:flex;flex-wrap:wrap;align-content:flex-start}.sudoku-grid-content{height:26px;width:26px;margin:1px;text-align:center}.sudoku-index{z-index:-1;font-size:12;opacity:.2;position:absolute}#files,#view{margin:30px}.line{width:0;border:1px solid;height:100%;background-color:#000;position:absolute;cursor:pointer}#wave{position:absolute;width:100%;height:100%;z-index:-2}#waveContainer{height:200px;width:1000px}#frequency{height:500px;width:16380px;vertical-align:bottom;display:flex;flex-wrap:wrap;justify-content:flex-start;align-content:stretch;align-items:flex-end}#selectedArea{height:100%;position:absolute;background-color:gray;width:inherit;margin-left:2px;z-index:-1;opacity:.3}.bar{width:0;border-left:1px solid;transition:height .5s}.noteTooltip{position:relative;display:inline-block;cursor:pointer}.tooltiptext{visibility:hidden;width:120px;background-color:#000;color:#fff;text-align:center;padding:5px 0;border-radius:6px;position:absolute;z-index:1}.noteTooltip:hover .tooltiptext{visibility:visible}.form-control{font-family:monospace,monospace}#plain-code-area{font-size:x-large;margin:40px}#sudoku-upper .col-input{width:30px}#sudoku-upper{margin-bottom:10px;margin-right:0!important}#sudoku-left .row-input{height:30px;margin-left:-1px!important}#sudoku-left{margin-right:10px!important}#smart-analysis-ansers{min-height:100px;border:1px solid}.analysis-hint{color:grey;font-size:smaller}.analysis-bar{margin-left:30px}.sudoku-grid-content{position:relative}.sudoku-grid-content:after,.sudoku-grid-content:before{content:"";position:absolute;z-index:10;background:#000}.UL:before,.UR:before{left:50%;width:10%;margin-left:-5%;height:55%}.BL:after,.UL:after{top:50%;left:0;height:10%;margin-top:-5%;width:55%}.RL:after{top:50%;left:0;height:10%;margin-top:-5%;width:100%}.UB:before{left:50%;width:10%;margin-left:-5%;top:0;height:100%}.BL:before,.RB:before{left:50%;width:10%;margin-left:-5%;top:50%;height:55%}.RB:after,.UR:after{top:50%;left:45%;height:10%;margin-top:-5%;width:55%}.horizon-{width:100%;height:1px;background-color:#000;position:absolute;z-index:10;border:1px solid}.vertical-{width:1px;height:100%;background-color:#000;position:absolute;z-index:10;border:1px solid}#cvs-tools span:hover{border:1px solid #000;cursor:pointer}#cvs-tools{border:1px solid #000;width:45px}#cvs{border:1px solid #000}</style>
		<link rel="stylesheet" href="./static/nonogram.css">
		<link rel="stylesheet" href="./static/bootstrap.min.css">
	</head>
	<body>
		<h1>ç„–è‚‰é¢- puzzle huntå·¥å…·é›†</h1>
		<h3>æ­£åœ¨åŠ è½½æ‰€éœ€è¦çš„èµ„æºï¼Œæš‚æ—¶åŠŸèƒ½ä¸å¯ç”¨,è¯·ç¨ç­‰ç‰‡åˆ»ï¼Œå¦‚æœå®åœ¨å¤ªæ…¢ï¼Œå¯ä¸‹è½½æœ¬é¡µé¢åˆ°ç”µè„‘æœ¬åœ°ä½¿ç”¨</h3>
		<div style="text-align:center">
			å¸¸ç”¨é“¾æ¥:
			<a href="https://philippica.github.io/ChinesePuzzleTool/">ç„–è‚‰é¢ä¸­æ–‡ç‰ˆ</a>
			<a href="https://philippica.github.io/cipher_machine/cipher_sheet">å¸¸ç”¨å¯†ç è¡¨</a>
			<a href="https://www.quinapalus.com/cgi-bin/qat">QAT(éå¸¸å¼ºå¤§çš„æŸ¥è¯å·¥å…·)</a>
			<a href="https://nutrimatic.org/">NUTRI(è¯ç»„æš´åŠ›å·¥å…·)</a>
			<a href="https://www.quipqiup.com/">QUIPQIUP(è‡ªåŠ¨å•è¡¨æš´åŠ›å·¥å…·)</a>
			<a href="https://www.wordplays.com/crossword-solver">Crosswordçº¿ç´¢æŸ¥è¯¢ç½‘ç«™</a>
			<a href="https://nova.astrometry.net/">é€šè¿‡æ˜Ÿç©ºç…§ç‰‡å°±èƒ½æ‰¾åˆ°æ˜Ÿåº§ä»¥åŠæ‹æ‘„ä½ç½®çš„ç½‘ç«™</a>
		</div>
		<div class="container">
			<div id="word-container">
				<div id="word-capsule" class="capsule" data-expend="true">puzzle å­—å…¸(æ­£åˆ™åŒ¹é…ã€anagramã€é€šé…ç¬¦ã€ç¼–è¾‘è·ç¦»)</div>
				<div id="word-main" class="content-area">
					<fieldset>
						<legend>é€‰æ‹©éœ€è¦ç­›é€‰çš„ç±»åˆ«</legend>
						<div>
							<input type="checkbox" id="all" name="all" checked="checked">
							<label for="all">å…¨é€‰</label>
						</div>
						<div>
						  <input type="checkbox" id="noun" name="noun" checked="checked">
						  <label for="noun">åè¯</label>
						</div>
						<div>
							<input type="checkbox" id="verb" name="verb" checked="checked">
							<label for="verb">åŠ¨è¯</label>
						</div>
						<div>
							<input type="checkbox" id="adj" name="adj" checked="checked">
							<label for="adj">å½¢å®¹è¯</label>
						</div>
						<div>
							<input type="checkbox" id="adv" name="adv" checked="checked">
							<label for="adv">å‰¯è¯</label>
						</div>
						<div>
							<input type="checkbox" id="lowfrequcy" name="lowfrequcy" checked="checked">
							<label for="lowfrequcy">ä½é¢‘è¯</label>
						</div>
					</fieldset>
					<textarea id="one-word-content" class="form-control" placeholder="è¯·è¾“å…¥è¦æŸ¥è¯¢çš„å•è¯"></textarea>
					<div id="method-select">
						<select onchange="changeMethod()" id="find-method">
							<option value="findByWildcard">é€šé…ç¬¦</option>
							<option value="findByRegularExpression">æ­£åˆ™</option>
							<option value="contains">åŒ…å«</option>
							<option value="findSimilarity">å¯»æ‰¾ç›¸ä¼¼å•è¯(ç¼–è¾‘è·ç¦»)</option>
							<option value="findByCode">DIYå†™ç¨‹åºæŸ¥æ‰¾</option>
						</select>
						<div id="twoWordContainer"><span>ä¸¤ä¸ªè¯</span><input type="checkbox" id="twoWords"></div>
					</div>
					<pre id="help-content" class="help-content"></pre>
					<button id="find-words">solve</button>
					<div>ä»¥ä¸‹ä¸ºå¯èƒ½ç»“æœ:</div>
					<div id="word-list-count"></div>
					<div id="words-list"></div>
				</div>
			</div>
			<div id="substitution-container">
				<div id="substitution-capsule" class="capsule" data-expend="true">å•è¡¨æ›¿æ¢</div>
				<div id="substitution-main" class="content-area" style="display:none">
					<form role="form">
						<div class="form-group">
							<div>å•è¡¨æš´åŠ›</div>
							<textarea id="content" class="form-control" rows="20" placeholder="è¯·è¾“å…¥å•è¡¨å¯†æ–‡"></textarea>
							<div>
								<button id="substitution-solver-btn" type="button">å•è¡¨æš´åŠ›</button>
							</div>
						</div>
					</form>
					<div>ä»¥ä¸‹ä¸ºå¯èƒ½ç»“æœ:</div>
					<div id="substitution-answer"></div>
				</div>
			</div>
			<div id="word-search-container">
				<div id="word-search-capsule" class="capsule" data-expend="true">Word Search</div>
				<div id="word-search-main" class="content-area" style="display:none">
					<div class="help-content">Word Searchæ˜¯ä¸€ä¸ªæ‰¾è¯æ¸¸æˆï¼Œç»™å‡ºä¸€ä¸ªn*mçš„å­—æ¯æ–¹é˜µï¼Œè¦æ±‚åœ¨æ¨ªç«–æ–œçš„æ–¹å‘ä¸Šæ‰¾åˆ°è‹±è¯­å•è¯</div>
					<div class="help-content">åœ¨ä¸‹é¢æ–‡æœ¬æ¡†å†…å¡«å…¥è¦word searchçš„å­—æ¯æ–¹é˜µï¼Œä¾‹å¦‚</div>
					<div class="help-content">abc</div>
					<div class="help-content">ddf</div>
					<div class="help-content">ghi</div>
					<span>åªæœæ¨ª/ç«–/æ–œæ–¹å‘çš„å•è¯</span><input type="checkbox" id="onlyvh" checked="checked"> 
					<div style="display:flex">
						<div>
							<textarea id="word-search-content" class="form-control" placeholder="è¯·è¾“å‡ºå­—æ¯æ–¹é˜µ,ç”¨ç©ºè¡Œéš”å¼€"></textarea>
							<button onclick="wordSearch()">Solver</button>
						</div>
						<div id="word-search-mat">
						</div>
					</div>
					<div id="word-search-ansers" style="display:flex">
						<div id="word-search-ansers-list"></div>
						<div id="word-search-ansers-position" style="margin-left:40px"></div>
					</div>
				</div>
			</div>
			<div id="smart-analysis-container">
				<div id="smart-analysis-capsule" class="capsule" data-expend="true">å¯†æ–‡æ™ºèƒ½åˆ†æ</div>
				<div id="rubik-cube-main" class="content-area" style="display:none">
					<div class="help-content">è¯·åœ¨ä¸‹é¢æ–‡æœ¬æ¡†å†…è¾“å…¥è¦åˆ†æçš„æ–‡æœ¬, é€—å·æˆ–è€…ç©ºæ ¼å¯ä»¥ä½œä¸ºåˆ†éš”ç¬¦</div>
					<div>
						<textarea id="smart-analysis-content" class="form-control" rows="1" placeholder="è¯·è¾“å‡ºè¦åˆ†æçš„æ–‡æœ¬"></textarea>
					</div>
					<div id="smart-analysis-ansers" style="display:flex;font:15px monospace">
						<div id="smart-analysis-ansers-list"></div>
						<div id="smart-analysis-ansers-position" style="margin-left:40px"></div>
					</div>
				</div>
			</div>
			<div id="rubik-cube-container">
				<div id="rubik-cube-capsule" class="capsule" data-expend="true">é­”æ–¹</div>
				<div id="rubik-cube-main" class="content-area" style="display:none">
					<div class="help-content">è¯·æ‹–åŠ¨é­”æ–¹è§‚çœ‹æ‰€æœ‰é¢:</div>
					<canvas id="rubik-cube" height="300px" width="300px"></canvas>
					<button onclick="resetRubicCube()">é‡ç½®é­”æ–¹</button>
					<div>
						<div>é¡ºæ—¶é’ˆ</div>
						<button onclick='$("#rubic-formular").html($("#rubic-formular").html()+" F"),window.rubicCube.front(1)'>å‰é¢(F)</button>
						<button onclick='$("#rubic-formular").html($("#rubic-formular").html()+" U"),window.rubicCube.up(1)'>é¡¶é¢(U)</button>
						<button onclick='$("#rubic-formular").html($("#rubic-formular").html()+" B"),window.rubicCube.back(-1)'>èƒŒé¢(B)</button>
						<button onclick='$("#rubic-formular").html($("#rubic-formular").html()+" D"),window.rubicCube.bottom(-1)'>åº•é¢(D)</button>
						<button onclick='$("#rubic-formular").html($("#rubic-formular").html()+" L"),window.rubicCube.left(1)'>å·¦è¾¹(L)</button>
						<button onclick='$("#rubic-formular").html($("#rubic-formular").html()+" R"),window.rubicCube.right(-1)'>å³é¢(R)</button>
					</div>
					<div>
						<div>é€†æ—¶é’ˆ</div>
						<button onclick='$("#rubic-formular").html($("#rubic-formular").html()+" F&#39;"),window.rubicCube.front(-1)'>å‰é¢(F')</button>
						<button onclick='$("#rubic-formular").html($("#rubic-formular").html()+" U&#39;"),window.rubicCube.up(-1)'>é¡¶é¢(U')</button>
						<button onclick='$("#rubic-formular").html($("#rubic-formular").html()+" B&#39;"),window.rubicCube.back(1)'>èƒŒé¢(B')</button>
						<button onclick='$("#rubic-formular").html($("#rubic-formular").html()+" D&#39;"),window.rubicCube.bottom(1)'>åº•é¢(D')</button>
						<button onclick='$("#rubic-formular").html($("#rubic-formular").html()+" L&#39;"),window.rubicCube.left(-1)'>å·¦è¾¹(L')</button>
						<button onclick='$("#rubic-formular").html($("#rubic-formular").html()+" R&#39;"),window.rubicCube.right(1)'>å³é¢(R')</button>
					</div>
					<br>
					<b id="rubic-formular">å…¬å¼ :</b>
					<br>
					<div class="help-content">åœ¨ä¸‹é¢é­”æ–¹å±•å¼€å›¾ä¸­å¯ç”¨é¼ æ ‡ç»˜åˆ¶ä»»æ„å›¾æ¡ˆé¢œè‰²(æ³¨:ç”»ç¬”é¢œè‰²æ—¢å¯ä»¥æ˜¯é¢œè‰²è‹±æ–‡ï¼Œä¾‹å¦‚red, blue, orange, ä¹Ÿå¯æ˜¯#å¼€å¤´çš„RGB,ä¾‹å¦‚#FFABCD)</div>
					<label>ç”»ç¬”é¢œè‰²</label><input id="penColor" value="black">
					<label>ç”»ç¬”ç²—ç»†</label><input id="penWidth" value="3">
					<div id="expand"></div>
				</div>
			</div>
			<div id="music-container">
				<div id="music-capsule" class="capsule" data-expend="true">éŸ³ä¹</div>
				<div id="music-main" class="content-area" style="display:none">
					<ul class="piano">
						<li onclick="play(130.81)" class="white"></li>
						<li onclick="play(138.59)" class="black"></li>
						<li onclick="play(146.83)" class="white sp"></li>
						<li onclick="play(155.56)" class="black"></li>
						<li onclick="play(164.81)" class="white sp"></li>
						<li onclick="play(174.61)" class="white"></li>
						<li onclick="play(185)" class="black"></li>
						<li onclick="play(196)" class="white sp"></li>
						<li onclick="play(207.65)" class="black"></li>
						<li onclick="play(220)" class="white sp"></li>
						<li onclick="play(233.08)" class="black"></li>
						<li onclick="play(246.94)" class="white sp"></li>
						<li onclick="play(261.63)" class="white"></li>
						<li onclick="play(277.18)" class="black"></li>
						<li onclick="play(293.66)" class="white sp"></li>
						<li onclick="play(311.13)" class="black"></li>
						<li onclick="play(329.63)" class="white sp"></li>
						<li onclick="play(349.23)" class="white"></li>
						<li onclick="play(366.99)" class="black"></li>
						<li onclick="play(392)" class="white sp"></li>
						<li onclick="play(415.3)" class="black"></li>
						<li onclick="play(440)" class="white sp"></li>
						<li onclick="play(466.16)" class="black"></li>
						<li onclick="play(493.88)" class="white sp"></li>
					</ul>
				</div>
			</div>
			<div id="blind-container">
				<div id="blind-capsule" class="capsule" data-expend="true">ç›²æ–‡&æ——è¯­</div>
				<div id="blind-main" class="content-area" style="display:none">
					<div>ç›²æ–‡:</div>
					<div id="demo-blind-letter" style="margin-right:5px">
						<div style="display:flex">
							<div>
								<div class="blind-dot" data-index="0"></div>
								<div class="blind-dot" data-index="1"></div>
								<div class="blind-dot" data-index="2"></div>
							</div>
							<div>
								<div class="blind-dot" data-index="3"></div>
								<div class="blind-dot" data-index="4"></div>
								<div class="blind-dot" data-index="5"></div>
							</div>
						</div>
						<div id="blind-letter"></div>
					</div>
					<button onclick="confirmBlind()" style="margin:20px">ç¡®è®¤</button>
					<div id="history-blind-area" style="display:flex"></div>
					<div>æ——è¯­:</div>
					<div id="demo-flag">
						<div style="display:flex">
							<div class="flag-shape" style="transform:rotate(-45deg)" data-index="0"></div>
							<div class="flag-shape" data-index="1"></div>
							<div class="flag-shape transparent" style="transform:rotate(45deg)" data-index="2"></div>
						</div>
						<div style="display:flex">
							<div class="flag-shape transparent" style="transform:rotate(-90deg)" data-index="3"></div>
							<div style="width:40px;height:50px"></div>
							<div class="flag-shape transparent" style="transform:rotate(90deg)" data-index="4"></div>
						</div>
						<div style="display:flex">
							<div class="flag-shape transparent" style="transform:rotate(-135deg)" data-index="5"></div>
							<div class="flag-shape transparent" style="transform:rotate(180deg)" data-index="6"></div>
							<div class="flag-shape transparent" style="transform:rotate(135deg)" data-index="7"></div>
						</div>
						<div id="flag-letter"></div>
					</div>
					<button onclick="confirmFlag()" style="margin:20px">ç¡®è®¤</button>
					<div id="history-flag-area" style="display:flex"></div>
				</div>
			</div>
			<div id="cipher-container">
				<div id="cipher-capsule" class="capsule" data-expend="true">å¤å…¸å¯†ç </div>
				<div id="cipher-main" class="content-area" style="display:none">
					<div id="cipher-tools">
						<button id="caeser-brute-force" style="margin:20px">æš´åŠ›å‡¯æ’’</button>
						<button id="QWE" style="margin:20px">QWE</button>
						<hr>
						<div id="general-substitute-cipher">
							<select onchange="changeSubstitutionMethod()" id="substitution-cipher-method">
								<option value="QWECipher">å­—æ¯åº(a = 1, b = 2)</option>
								<option value="QWECipher">å­—æ¯åº(a = 01, b = 02)</option>
								<option value="QWECipher">QWE</option>
								<option value="QWECipher">Atbash</option>
								<option value="QWECipher">5*5æ£‹ç›˜(i/jåŒæ ¼)</option>
								<option value="QWECipher">æ‰‹æœºé”®ç›˜</option>
								<option value="QWECipher">è«å°”æ–¯ç”µç (morse code)</option>
								<option value="QWECipher">å…ƒç´ å‘¨æœŸè¡¨</option>
							</select>
							<textarea id="key-textarea" class="form-control" rows="4" oninput="onTypeKey()"></textarea>
							<button onclick="encode()">ç¼–ç </button>
							<button onclick="decode()">è§£ç </button>
						</div>
						<div style="margin:10px">å°†<input id="replace1"> æ›¿æ¢æˆ <input id="replace2"> <button onclick="replaceStr()">æ›¿æ¢</button></div>
						<button onclick="removeSpace()">å»ç©ºæ ¼</button>
						<div><input id="spaceCnt" value="2" style="width:40px">ä¸ªä¸€ç»„<button onclick="addSpace()">åŠ ç©ºæ ¼</button></div>
					</div>
					<textarea id="cipher-code-textarea" class="form-control" rows="20" placeholder="è¯·è¾“å…¥å¯†æ–‡" oninput="onTypePlainCode()"></textarea>
					<div id="plain-code-area"></div>
				</div>
			</div>
			<div id="sudoku-container">
				<div id="sudoku-capsule" class="capsule" data-expend="true">æ•°ç‹¬ã€å¹»æ–¹ã€æ‰«é›·ã€nonogramã€Drop Quoteé»‘ç§‘æŠ€</div>
				<div id="sudoku-main" class="content-area" style="display:none">
					<div>
						<select id="solverMode" onchange="changeSolverMode()">
							<option value="sudoku">ç»å…¸æ•°ç‹¬æ¨¡å¼</option>
							<option value="mine">ç»å…¸æ‰«é›·</option>
							<option value="magicSquare">ç»å…¸å¹»æ–¹</option>
							<option value="nonogram">ç»å…¸nonogram</option>
							<option value="drop">ç»å…¸drop</option>
							<option value="simpLoop">ç»å…¸simple loop</option>
							<option value="hashi">ç»å…¸hashi</option>
						</select>
					</div>
					<span>è¡Œ: </span> <span id="sudoku-row" style="border:1px solid" contenteditable="true">9</span>
					<span>åˆ—: </span> <span id="sudoku-col" style="border:1px solid" contenteditable="true">9</span>
					<a href="https://github.com/philippica/cipher_machine/wiki/%E7%84%96%E8%82%89%E9%9D%A2%E8%84%9A%E6%9C%AC%E6%96%87%E6%A1%A3">è„šæœ¬è§„åˆ™è¯´æ˜</a>
					<div><span>æ˜¾ç¤ºä¸Šæ’</span><input type="checkbox" id="show-upper"></div>
					<div><span>æ˜¾ç¤ºå·¦æ’</span><input type="checkbox" id="show-left"></div>
					<button id="dropHelper" style="display:none">ä¸€é”®ç”Ÿæˆdropæˆå•è¯çš„è§„åˆ™(æŒ‰é»‘æ ¼éš”å¼€æˆå•è¯)</button>
					<div style="display:flex">
						<textarea id="rules" cols="50" rows="30"></textarea>
						<div style="margin:20px">
							<div style="display:none" id="upperRules">
								<div style="font-size:13px">ä¸Šæ’åŒºåŸŸä¸­çš„å†…å®¹å°†è¢«æ›¿æ¢ä¸ºè§„åˆ™:</div>
								<textarea id="upReplaceStr" cols="50"></textarea>
							</div>
							<div style="display:none" id="leftRules">
								<div style="font-size:13px">å·¦æ’åŒºåŸŸä¸­çš„å†…å®¹å°†è¢«æ›¿æ¢ä¸ºè§„åˆ™:</div>
								<textarea id="leftReplaceStr" cols="50"></textarea>
							</div>
							<div>
								<div style="font-size:13px">ä¸‹é¢æ ¼å­ä¸­çš„å†…å®¹å°†è¢«æ›¿æ¢ä¸ºè§„åˆ™:</div>
								<textarea id="replaceStr" cols="50"></textarea>
							</div>
							<div id="showcase" style="width:fit-content">
								<div id="sudoku-upper"></div>
								<div style="display:flex">
									<div id="sudoku-left"></div>
									<div id="sudokuContainer"></div>
								</div>
							</div>
							<pre id="sudokuAnswer"></pre>
						</div>
					</div>
					<button id="solveSudoku">solve</button>
				</div>
			</div>
			<div id="cvs-container">
				<div id="cvs-capsule" class="capsule" data-expend="true">å›¾ç‰‡å¤„ç†</div>
				<div id="cvs-main" class="content-area" style="display:none">
					<canvas id="cvs"></canvas>
					<div id="cvs-details" style="margin:10px"></div>
					<div id="cvs-tools">
						<div>
							<span id="zoom">ğŸ”</span>
							<span id="pen">âœ</span>
						</div>
						<div>
							<span id="zoom">ğŸ”</span>
							<span id="pen">âœ</span>
						</div>
					</div>
					<div id="cvs-rgb" style="display:none">
						<div><b>çº¢è‰²é€šé“ R</b></div>
						<canvas id="cvs-r"></canvas>
						<div><b>ç»¿è‰²é€šé“ G</b></div>
						<canvas id="cvs-g"></canvas>
						<div><b>è“è‰²é€šé“ B</b></div>
						<canvas id="cvs-b"></canvas>
					</div>
				</div>
			</div>
		</div>
		<div id="footer"> power by -- philippica (Contact me: philippicapyj@gmail.com)</div>
		<script src="index-c7641def.js"></script>
		<script src="./static/jquery.min.js"></script>
		<script>if($("h3").text("å­—å…¸å°šåœ¨åŠ è½½,éƒ¨åˆ†åˆ©ç”¨åˆ°å­—å…¸çš„åŠŸèƒ½æš‚ä¸å¯ç”¨,è¯·ç¨ç­‰ç‰‡åˆ»,å¦‚æœå®åœ¨å¤ªæ…¢,å¯ä¸‹è½½æœ¬é¡µé¢åˆ°ç”µè„‘æœ¬åœ°ä½¿ç”¨"),localStorage.abc){window.words={};for(let e=0,t=localStorage.length;e<t;e++){const t=localStorage.key(e);words[t]=localStorage.getItem(t).split(",")}$("h3").remove()}let rubicCubeMaterias;$(".capsule").click(e=>{const t=e.target,a=$(t.parentElement.lastElementChild);a.is(":visible")?a.hide("fast","linear"):a.show("fast","linear")}),$("#rubik-cube-capsule").click(e=>{if(!window.rubicCube){const e=initExpand();rubicCubeMaterias=e;const t=document.getElementById("rubik-cube"),a=t.getContext("2d");window.rubicCube=new Solver.RubikCubeStage(a,t.width,t.height,rubicCubeMaterias)}}),$("#substitution-solver-btn").click((function(){var e=$("#content").val();console.info(e),plaintext=(new Solver.SubstitutionSolver).substituteSolver(e),$("#substitution-answer").empty(),plaintext.length;for(let e=0;e<Math.min(plaintext.length,100);e++)$("#substitution-answer").append(`<div><b>${plaintext[e]}</b></div>`)}));let solver=new Solver.OneWord;const oneWordHelpContent={findByWildcard:"å½“å‰æ˜¯é€šé…ç¬¦æ¨¡å¼ - ä½ å¯ä»¥ä½¿ç”¨#è¡¨ç¤ºä¸€ä¸ªå­—æ¯, ç”¨*è¡¨ç¤ºå¤šä¸ªå­—æ¯ ä¾‹å¦‚ bo##ke*r å¯ä»¥åŒ¹é…åˆ°bookkeeper\n\tæ–¹æ‹¬å·[]å¯ä»¥ç”¨æ¥åŒ¹é…ä¸€ç»„å¯èƒ½çš„æ•°å­—ï¼Œä¾‹å¦‚ booke[rd] ä¼šåŒæ—¶åŒ¹é…åˆ°bookedå’Œbooker\n\tå¤§å†™å­—æ¯è¡¨ç¤ºç›¸åŒçš„ä¸€ç»„è¯ï¼Œä¾‹å¦‚pBAtAsBAp ç¬¬2ç¬¬7ä¸ªå­—æ¯ç›¸åŒï¼Œç¬¬3,5,8ä¸ªå­—ç¬¦ç›¸åŒï¼Œå½“é€‰ä¸¤ä¸ªè¯çš„æ—¶å€™èƒ½å¤ŸåŒ¹é…åˆ°photo shop",findByRegularExpression:"å½“å‰æ˜¯æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ - å¦‚æœä½ ç†Ÿæ‚‰æ­£åˆ™è¡¨è¾¾å¼ï¼Œé‚£å®ƒå°†ä¼šæ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„å·¥å…· ä¾‹å¦‚^[abcd][ef].*[aeiou]$ èƒ½å¤Ÿæœåˆ°ç¬¬ä¸€ä¸ªå­—æ¯ä¸ºabcdä¸­ä¸€ä¸ªï¼Œç¬¬äºŒä¸ªå­—æ¯ä¸ºefä¸­ä¸€ä¸ªï¼Œå¹¶ä¸”ä»¥å…ƒéŸ³ç»“å°¾çš„æ‰€æœ‰å•è¯\n\nä¾‹å¦‚å¯»æ‰¾ç¬¬ä¸€ä¸ªå­—ç¬¦å’Œç¬¬å››ä¸ªå­—ç¬¦ç›¸åŒç¬¬äºŒä¸ªå­—ç¬¦ä¸ºbçš„é•¿åº¦ä¸º8çš„å•è¯ ^(.)b.\\1....$ è§£é‡Šï¼š(å…¶ä¸­\\1è¡¨ç¤ºä»å·¦åˆ°å³ç¬¬ä¸€ä¸ªæ‹¬å·éœ€è¦å’Œå®ƒç›¸åŒ .ä»£è¡¨ä»»æ„å­—ç¬¦ ^ $åˆ†åˆ«ä»£è¡¨å¤´å’Œå°¾)\n\nä¾‹å¦‚å¯»æ‰¾é•¿åº¦ä¸º4çš„ç¬¬ä¸€ä¸ªå­—ç¬¦å’Œç¬¬å››ä¸ªå­—ç¬¦ç›¸åŒï¼Œç¬¬äºŒä¸ªå­—ç¬¦å’Œç¬¬ä¸‰ä¸ªå­—ç¬¦ç›¸åŒçš„å•è¯: ^(.)(.)\\2\\1$\n\nä¾‹å¦‚å¯»æ‰¾ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯å…ƒéŸ³ï¼Œä¸”ç¬¬ä¸€ä¸ªå­—ç¬¦å’Œç¬¬ä¸‰ä¸ªå­—ç¬¦ç›¸åŒï¼Œé•¿åº¦ä¸å®šï¼Œç¬¬äºŒä¸ªå­—ç¬¦ä¸å¯èƒ½æ˜¯bæˆ–è€…cçš„å•è¯ ^([aeiou])[^bc]\\1\n",contains:"å½“å‰æ˜¯åŒ…å«æ¨¡å¼ - èƒ½å¤Ÿæœå‡ºæ‰€æœ‰è‡³å°‘åŒ…å«è¿™äº›å­—æ¯çš„å•è¯ï¼Œä¾‹å¦‚abbccä¼šæ‰¾åˆ°æ‰€æœ‰è‡³å°‘åŒ…å«ä¸€ä¸ªaä¸¤ä¸ªbå’Œä¸¤ä¸ªcçš„å•è¯",findSimilarity:"å½“å‰æ˜¯ç›¸ä¼¼åº¦æ¨¡å¼-ç»™å‡ºå•è¯æ‰¾åˆ°ä¸å®ƒç›¸æƒ³çš„å•è¯ï¼Œä¸¤ä¸ªè¯ç›¸ä¼¼åº¦å³ç¼–è¾‘è·ç¦»ï¼Œå¦‚æœèƒ½é€šè¿‡ä¸€æ¬¡æ·»åŠ ä¸€ä¸ªå­—æ¯ï¼Œæ›¿æ¢ä¸€ä¸ªå­—æ¯æˆ–åˆ é™¤ä¸€ä¸ªå­—æ¯èƒ½ä»ä¸€ä¸ªå•è¯å˜æˆå¦ä¸€ä¸ªå•è¯ï¼Œé‚£å®ƒä»¬çš„ç›¸ä¼¼åº¦ä¸º1",findByCode:"æœ€çµæ´»çš„æ‰¾è¯æ–¹å¼ï¼Œé€šè¿‡è‡ªå·±ç¼–å†™jsä»£ç ï¼Œå®ç°ä¸€ä¸ªæ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°çš„checkå‡½æ•°æ¥å¯»æ‰¾å•è¯\nå‡½æ•°åŒæ—¶ä¼šä¼ å…¥ä¸€ä¸ªtoolçš„å‚æ•°ï¼ŒåŒ…å«å¾ˆå¤šæœ‰ç”¨å‡½æ•°ï¼Œå½“å‰åŒ…æ‹¬:\n\tisWord(str: string) :bool : åˆ¤æ–­ä¼ å…¥å­—ç¬¦ä¸²æ˜¯å¦ä¸ºè‹±è¯­å•è¯\n\tanagram(str: string, letters: string) :bool : åˆ¤æ–­ä¼ å…¥å­—ç¬¦ä¸²æ˜¯å¦ä¸ºletterså‚æ•°ä¸­çš„å­—ç¬¦æ’åˆ—ç»„æˆ"};let method="findByWildcard";$("#help-content").text(oneWordHelpContent[method]);const changeMethod=()=>{const e=$("#find-method").val();method=e,$("#word-find-similarity-hint").remove(),$("#similarityRegex").remove(),$("#similarityDegree").remove(),$("#twoWordContainer").remove(),$("#one-word-content").height(60),"findSimilarity"===method?($("#method-select").append("<input id='similarityDegree' placeholder='ç›¸ä¼¼åº¦' value='1'/>"),$("#method-select").append("<div id='word-find-similarity-hint'>åœ¨ç»“æœä¸­ç”¨æ­£åˆ™æŸ¥æ‰¾:</div><input id='similarityRegex' placeholder='æ­£åˆ™è¡¨è¾¾å¼(ä¸å¡«åˆ™è¾“å‡ºæ‰€æœ‰ç»“æœ)' />")):"contains"===method?$("#method-select").append("<div id='word-find-similarity-hint'>åœ¨ç»“æœä¸­ç”¨æ­£åˆ™æŸ¥æ‰¾:</div><input id='similarityRegex' placeholder='æ­£åˆ™è¡¨è¾¾å¼(ä¸å¡«åˆ™è¾“å‡ºæ‰€æœ‰ç»“æœ)' />"):"findByCode"===method?($("#one-word-content").val('function check(str, tools) {\n\tif(str[0]!=str[str.length-1])return null; // å¦‚æœé¦–å­—æ¯å’Œå°¾å­—æ¯ä¸ç›¸ç­‰ï¼Œä¸é€‰è¿™ä¸ªå•è¯\n\tif(str.length > 7 || str.length < 5)return null; // å¦‚æœå•è¯é•¿åº¦å¤§äº7æˆ–è€…å°äº2ï¼Œä¸é€‰è¿™ä¸ªå•è¯\n\tif(/^a.*b$/.test(str))return null;// å¦‚æœæ»¡è¶³æ­£åˆ™^a.*b$ ä¸é€‰è¿™ä¸ªå•è¯\n\tif(tools.anagram(str.substr(2,3), "guo") === false)return null; // å¦‚æœä»ç¬¬3ä¸ªå­—ç¬¦èµ·å¾€å3ä¸ªå­—æ¯ä¸æ˜¯ç”±abcç»„æˆçš„ï¼Œä¸é€‰è¿™ä¸ªå•è¯\n\tif(tools.isWord(str.substr(2,5)) === true){ // å¦‚æœå•è¯ç¬¬3ä¸ªå­—ç¬¦ï¼ˆå› ä¸ºä¸‹æ ‡ä»0å¼€å§‹)å¾€å5ä¸ªå­—æ¯æ˜¯ä¸€ä¸ªè‹±è¯­å•è¯\n\t\treturn str + " " + str.substr(2,5); //è¾“å‡ºè¯¥è¯ï¼Œå¹¶æŠŠç¬¬ä¸‰ä¸ªåˆ°ç¬¬5ä¸ªå­—æ¯çš„å­—ä¸²æ”¾åé¢\n\t}\n}'),$("#one-word-content").height(400)):"findByWildcard"===method&&$("#method-select").append('<div id="twoWordContainer"><span>ä¸¤ä¸ªè¯</span><input type="checkbox" id="twoWords" /></div>'),$("#help-content").text(oneWordHelpContent[method])};$("#find-words").click((async function(){let content=$("#one-word-content").val(),answer;if($("#words-list").empty(),"contains"!==method)for(let e=20;e>=1;e--)$("#words-list").append(`<div id="len-${e}" style="display: none;" class="word-content"><b style="display: block">é•¿åº¦ä¸º${e}:</b></div>`);else for(let e=1;e<=20;e++)$("#words-list").append(`<div id="len-${e}" style="display: none;" class="word-content"><b style="display: block">é•¿åº¦ä¸º${e}:</b></div>`);let count=0;const findWord=async(e,t)=>{const a=$("#words-list #len-"+e);var n;a.is(":visible")||a.show("fast","linear"),a.append(`<div>${t}</div>`),count++,$("#word-list-count").html(`å…±${count}ä¸ª`),count%1e3==0&&await(n=1,new Promise(e=>setTimeout(e,n)))};let filter=0;$("#noun").is(":checked")&&(filter|=1),$("#verb").is(":checked")&&(filter|=2),$("#adj").is(":checked")&&(filter|=4),$("#adv").is(":checked")&&(filter|=8),$("#lowfrequcy").is(":checked")&&(filter|=16);const solverFunc=(new Solver.OneWord)[method].bind(solver);if("findSimilarity"===method){const regex=$("#similarityRegex").val();let regularExpression;regex&&""!==regex&&(regularExpression=eval(`/${regex}/`)),findSimilarity=async(e,t)=>{regularExpression&&!regularExpression.test(t)||await findWord(e,t)};const similarityDegree=parseInt($("#similarityDegree").val());answer=await solverFunc(content,similarityDegree,findSimilarity,filter)}else if("contains"===method){const regex=$("#similarityRegex").val();let regularExpression;regex&&""!==regex&&(regularExpression=eval(`/${regex}/`)),findSimilarity=async(e,t)=>{regularExpression&&!regularExpression.test(t)||await findWord(e,t)},answer=await solverFunc(content,findSimilarity,filter)}else if("findByWildcard"===method){const e=$("#twoWords").is(":checked");answer=await solverFunc(content,findWord,filter,e)}else answer=await solverFunc(content,findWord,filter)})),wordSearch=()=>{var e=$("#word-search-content").val();$("#word-search-ansers-list").html(""),$("#word-search-ansers-position").html(""),console.info(e);const t=(new Solver.WordSearch).buildMatrix(e),a=t[0].length;let n=0;$("#word-search-mat").html(""),$("#word-search-mat").css("width",26*a+2*a+10+"px");for(const e of t)for(const t of e)$("#word-search-mat").append(`<div id="ws-${n}" class="sudoku-grid-content">${t}</div>`),n++;$("#onlyvh").get(0).checked?answers=(new Solver.WordSearch).wordSearch(t):answers=(new Solver.WordSearch).wordSearch2(t),answers.sort((e,t)=>t.word.length!==e.word.length?t.word.length-e.word.length:t.word<e.word);let s="";for(let e of answers){if(e.word==s)continue;let t="",n="";1===e.dy?t="å³":-1===e.dy&&(t="å·¦"),1===e.dx?n="ä¸‹":-1===e.dx&&(n="ä¸Š"),$("#word-search-ansers-list").append(`<div>${e.word}</div>`),$("#onlyvh").get(0).checked?$("#word-search-ansers-position").append(`<div class="ws-answer" data-answer="${JSON.stringify(e).replace(/\"/g,"'")}">å‡ºç°åœ¨ç¬¬${e.x+1}è¡Œï¼Œç¬¬${e.y+1}åˆ—ï¼Œå‘${t}${n}æ–¹å‘</div>`):$("#word-search-ansers-position").append(`<div class="ws-answer" data-answer="${JSON.stringify(e.pos)}">ä»ç¬¬${parseInt(e.pos[0]/a)+1}è¡Œï¼Œç¬¬${e.pos[0]%a+1}åˆ—å¼€å§‹</div>`),s=e.word}$(".ws-answer").on("click",e=>{let t="rgb("+Math.round(255*Math.random())+","+Math.round(255*Math.random())+","+Math.round(255*Math.random())+")";const n=JSON.parse(e.target.dataset.answer.replace(/\'/g,'"'));if(e.target.style.backgroundColor?(t=e.target.style.backgroundColor,e.target.style.backgroundColor=""):e.target.style.backgroundColor=t,"["==e.target.dataset.answer[0]){for(const e of n){const a=$("#ws-"+e).css("background-color");if(a){const n=a.match(/\d+/g),s=parseInt(n[0]),i=parseInt(n[1]),l=parseInt(n[2]),o=t.match(/\d+/g),r=`rgb(${s^parseInt(o[0])},${i^parseInt(o[1])},${l^parseInt(o[2])})`;"rgb(0,0,0)"==r?$("#ws-"+e).css("background-color",""):$("#ws-"+e).css("background-color",r)}else $("#ws-"+e).css("background-color",t)}return}const s=n.word.length;let i=n.x,l=n.y;for(let e=0;e<s;e++){const e=i*a+l,s=$("#ws-"+e).css("background-color");if(s){const a=s.match(/\d+/g),n=parseInt(a[0]),i=parseInt(a[1]),l=parseInt(a[2]),o=t.match(/\d+/g),r=`rgb(${n^parseInt(o[0])},${i^parseInt(o[1])},${l^parseInt(o[2])})`;"rgb(0,0,0)"==r?$("#ws-"+e).css("background-color",""):$("#ws-"+e).css("background-color",r)}else $("#ws-"+e).css("background-color",t);i+=n.dx,l+=n.dy}})},initExpand=()=>{const e=[];for(let e=0;e<4;e++)$("#expand").append(`<div id="expand-${e}" class="face-container"></div>`);$("#expand-0").append('<div id="face-0" class="face"></div>'),$("#expand-1").append('<div id="face-1" class="face"></div>'),$("#expand-1").append('<div id="face-2" class="face"></div>'),$("#expand-1").append('<div id="face-3" class="face"></div>'),$("#expand-2").append('<div id="face-4" class="face"></div>'),$("#expand-3").append('<div id="face-5" class="face"></div>');const t=Math.floor($("#face-1").width()/3-4),a=Math.floor($("#face-1").height()/3-4),n=["white","green","red","blue","yellow","orange"];for(let s=0;s<6;s++)for(let i=0;i<9;i++){$("#face-"+s).append(`<canvas id="block-${9*s+i}" width="${t}px" height="${a}px" class="cube-block"></canvas>`);let l=document.getElementById("block-"+(9*s+i)),o=l.getContext("2d");o.fillStyle=n[s],o.fillRect(0,0,t,a);const r=9*s+i;o.fillStyle="black",o.font="20px Georgia",o.fillText(r.toString(),20,20),e.push(l)}return e},resetRubicCube=()=>{$("#rubic-formular").html("å…¬å¼: ");const e=document.getElementById("rubik-cube"),t=e.getContext("2d");window.rubicCube=new Solver.RubikCubeStage(t,e.width,e.height,rubicCubeMaterias)};const play=async e=>{window.AudioContext=window.AudioContext||window.webkitAudioContext;var t=new AudioContext;const a=Math.PI,n=(e,a)=>{let n=1;for(let s=0;s<a;s++)n=n*e/t.sampleRate;return(e=>Math.exp(e))(-10*n)};function s(e,s){var i=t.sampleRate/s;return(e=>Math.sin(e))(2*a*e/i)*n(e,3)}var i=[];volume=.1,seconds=1;for(var l=0;l<t.sampleRate*seconds;l++)i[l]=s(l,e)*volume,i[l]+=s(l,2*e)*volume*.4,i[l]+=s(l,3*e)*volume*.2;(async(e,a)=>{for(var n=new Float32Array(e.length),s=0;s<e.length;s++)n[s]=e[s];var i=t.createBuffer(1,n.length,t.sampleRate);i.copyToChannel(n,a);var l=t.createBufferSource();l.buffer=i,l.connect(t.destination),await l.start()})(i,0)},currentBlindState=[0,0,0,0,0,0],braille=[];braille[1]="a",braille[3]="b",braille[9]="c",braille[25]="d",braille[17]="e",braille[11]="f",braille[27]="g",braille[19]="h",braille[10]="i",braille[26]="j",braille[5]="k",braille[7]="l",braille[13]="m",braille[29]="n",braille[21]="o",braille[15]="p",braille[31]="q",braille[23]="r",braille[14]="s",braille[30]="t",braille[37]="u",braille[39]="v",braille[58]="w",braille[45]="x",braille[61]="y",braille[53]="z",$(".blind-dot").on("click",(function(e){const t=parseInt(e.target.dataset.index);currentBlindState[t]?e.target.style.backgroundColor="":e.target.style.backgroundColor="black",currentBlindState[t]^=1;let a=0;for(let e=0;e<6;e++)a+=currentBlindState[e]*(1<<e);braille[a]?$("#blind-letter").text(braille[a]):$("#blind-letter").text("Unknown")}));const confirmBlind=()=>{$("#history-blind-area").append($("#demo-blind-letter").clone())},confirmFlag=()=>{$("#history-flag-area").append($("#demo-flag").clone())},flagState=[0,1],flagMap=[];flagMap[51]="a",flagMap[33]="b",flagMap[6]="c",flagMap[15]="d",flagMap[24]="e",flagMap[42]="f",flagMap[61]="g",flagMap[32]="h",flagMap[5]="i",flagMap[13]="j",flagMap[14]="k",flagMap[23]="l",flagMap[41]="m",flagMap[52]="n",flagMap[3]="o",flagMap[12]="p",flagMap[21]="q",flagMap[31]="r",flagMap[34]="s",flagMap[1]="t",flagMap[2]="u",flagMap[16]="v",flagMap[22]="w",flagMap[25]="x",flagMap[4]="y",flagMap[43]="z",$(".flag-shape").on("click",(function(e){const t=parseInt(e.target.dataset.index);if(flagState[0]===t||flagState[1]===t)return;e.target.style.opacity=1,$(`.flag-shape[data-index=${flagState[0]}]`)[0].style.opacity=.1,flagState[0]=flagState[1],flagState[1]=t;const a=9*Math.min(flagState[0],flagState[1])+Math.max(flagState[0],flagState[1]);console.info(a),flagMap[a]?$("#flag-letter").text(flagMap[a]):$("#flag-letter").text("Unknown")}));const caeser=(e,t)=>{let a="";for(let n of e){let e;n.charCodeAt()>=65&&n.charCodeAt()<=90?e=65:n.charCodeAt()>=97&&n.charCodeAt()<=122?e=97:a+=n,a+=String.fromCharCode((n.charCodeAt()-e+t)%26+e)}return a},removeSpace=()=>{const e=$("#cipher-code-textarea").val();$("#cipher-code-textarea").val(e.replaceAll(" ",""))},addSpace=()=>{const e=$("#cipher-code-textarea").val(),t=parseInt($("#spaceCnt").val());$("#cipher-code-textarea").val(((e,t)=>{var a,n,s=[];for(a=0,n=e.length;a<n;a+=t)s.push(e.substr(a,t));return s})(e,t).reduce((e,t)=>e+" "+t))},caeserProcess=()=>{const e=$("#cipher-code-textarea").val();$("#plain-code-area").empty();for(let t=1;t<=25;t++){const a=caeser(e,t);$("#plain-code-area").append(`<div style="display:flex;"><div>å‡¯æ’’${t}ï¼š </div><div>${a}</div></div>`)}},makeMap=e=>{const t={};for(let a=0;a<26;a++)t[String.fromCharCode(a+97)]=e[a];return t};$("#caeser-brute-force").on("click",(function(e){caeserProcess()}));const replaceStr=()=>{const e=$("#cipher-code-textarea").val();$("#cipher-code-textarea").val(e.replaceAll($("#replace1").val(),$("#replace2").val()))};decodeProcess=(e,t,a)=>{e=e.trim().replaceAll("  "," ").split(" "),t=t.trim().replaceAll("  "," ").split(" ");const n=e.length,s=a||$("#cipher-code-textarea").val();let i="";for(let a=0;a<s.length;){let l=-1;for(let t=0;t<n;t++)if(s.startsWith(e[t],a)){if(-1==l){l=t;continue}e[l].length<e[t].length&&(l=t)}-1==l?(i+=s[a],a++):(a+=e[l].length,i+=t[l]+" ")}return i};const decode=()=>{const e=$("#key-textarea").val().split("\n");$("#plain-code-area").html(`<div style="display:flex;">ç»“æœ: ${decodeProcess(e[1],e[0])}</div>`)},encode=()=>{const e=$("#key-textarea").val().split("\n");$("#plain-code-area").html(`<div style="display:flex;">ç»“æœ: ${decodeProcess(e[0],e[1])}</div>`)},substitutionTable=["q w e r t y u i o p a s d f g h j k l z x c v b n m","a b c d e f g h i j k l m n o p q r s t u v w x y z","11 12 13 14 15 21 22 23 24 24 25 31 32 33 34 35 41 42 43 44 45 51 52 53 54 55","21 22 23 31 32 33 41 42 43 51 52 53 61 62 63 71 72 73 74 81 82 83 91 92 93 94","1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26","01 02 03 04 05 06 07 08 09 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26","0 1 2 3 4 5 6 7 8 9",".- -... -.-. -.. . ..-. --. .... .. .--- -.- .-.. -- -. --- .--. --.- .-. ... - ..- ...- .-- -..- -.-- --..","----- .---- ..--- ...-- ....- ..... -.... --... ---.. ----.","h he li be b c n o f ne na mg al si p s cl ar k ca sc ti v cr mn fe co ni cu zn ga ge as se br kr rb sr y zr nb mo tc ru rh pd ag cd in sn sb te i xe cs ba la ce pr nd pm sm eu gd tb dy ho er tm yb lu hf ta w re os ir pt au hg tl pb bi po at rn fr ra ac th pa u np pu am cm bk cf es fm md no lr rf db sg bh hs mt ds rg cn uut fl uup lv uus uuo","â  â ƒ â ‰ â ™ â ‘ â ‹ â › â “ â Š â š â … â ‡ â  â  â • â  â Ÿ â — â  â  â ¥ â § â º â ­ â ½ â µ"],useMethod=e=>{let t="";switch(e){case 0:t+=substitutionTable[1]+"\n"+substitutionTable[4];break;case 1:t+=substitutionTable[1]+"\n"+substitutionTable[5];break;case 2:t+=substitutionTable[1]+"\n"+substitutionTable[0];break;case 3:t+=substitutionTable[1]+"\n"+substitutionTable[1].split("").reverse().join("");break;case 4:t+=substitutionTable[1]+"\n"+substitutionTable[2];break;case 5:t+=substitutionTable[1]+"\n"+substitutionTable[3];break;case 6:t+=substitutionTable[1]+" "+substitutionTable[6]+"\n"+substitutionTable[7]+" "+substitutionTable[8];break;case 7:let e="1";for(let t=2;t<=118;t++)e+=" "+t.toString();t+=e+"\n"+substitutionTable[9];break;case 8:t+=substitutionTable[1]+"\n"+substitutionTable[10]}return t},changeSubstitutionMethod=()=>{const e=$("#substitution-cipher-method")[0].selectedIndex;$("#key-textarea").val(useMethod(e))};changeSubstitutionMethod();const onTypePlainCode=e=>{if(!$("#autoDecode").get(0).checked)return;caeserProcess();let t=substituteCipher($("#cipher-code-textarea").val(),makeMap(substitutionTable[0]));$("#plain-code-area").append(`<div style="display:flex;"><div>QWEåŠ å¯†ï¼š </div><div>${t}</div></div>`),t=substituteCipher($("#cipher-code-textarea").val(),makeMap(substitutionTable[1])),$("#plain-code-area").append(`<div style="display:flex;"><div>QWEè§£å¯†ï¼š </div><div>${t}</div></div>`),t=substituteCipher($("#cipher-code-textarea").val(),makeMap(substitutionTable[2])),$("#plain-code-area").append(`<div style="display:flex;"><div>Atbashï¼š </div><div>${t}</div></div>`)};$("#substitution-cipher-method").ready(()=>{$("#key-textarea").val(useMethod(0))});const substituteCipher=(e,t)=>{let a=t;t||(a=$.map($(".map-unit #cipher-text"),(e,t)=>{const a={};return a[e.dataset.pt]=e.value,a}).reduce((e,t)=>Object.assign(e,t)));let n="";for(let t of e)a[t]?n+=a[t]:a[t.toLowerCase()]?n+=a[t.toLowerCase()]:n+=t;return n},solveGeneralSubstitution=()=>{const e=$("#cipher-code-textarea").val();$("#plain-code-area").empty();const t=substituteCipher(e);$("#plain-code-area").append(`<div style="display:flex;"><div>ç»“æœ: </div><div>${t}</div></div>`)},autoCheckClick=e=>{$("#autoDecode").get(0).checked?($("#cipher-code-textarea")[0].style.borderColor="red",caeserProcess(),substituteCipher($("#cipher-code-textarea").val(),makeMap(substitutionTable[0]))):$("#cipher-code-textarea")[0].style.borderColor=""};let n=parseInt($("#sudoku-row").html()),m=parseInt($("#sudoku-col").html());const updateRule=(e,t,a)=>{const n="^"+e.replace(a,".*")+"$",s=$("#rules").val().split("\n");let i="";for(let e=0;e<s.length;e++)rulesWithoutSpace=s[e].replace(/\s/g,""),""!==rulesWithoutSpace&&(new RegExp(n.replace("[","\\[").replace("]","\\]")).test(rulesWithoutSpace)||(i+=rulesWithoutSpace+"\n"));""!=t&&(i+=e.replace(a,t)+"\n"),$("#rules").val(i)},generate=(e,t)=>{$("#sudokuContainer").html(""),$("#sudokuContainer").width(30*t-t+2),$("#sudokuContainer").height(30*e+e);for(let a=0;a<e*t;a++)$("#sudokuContainer").append(`<div class="sudoku-grid"><div class="sudoku-index">${a+1}</div><div id="grid-${a}" class="sudoku-grid-content" contenteditable="true"></div></div>`);$(".sudoku-grid-content,#sudoku-row,#sudoku-col").on("focus",(function(){before=$(this).html()})).on("blur keyup paste",(function(){before!=$(this).html()&&(before=$(this).html(),$(this).trigger("change"))})),$(".sudoku-grid-content").on("change",e=>{console.info(e.target.innerText);const t=e.target.innerText,a=parseInt(e.currentTarget.id.substr(5))+1;console.info(a);const n=$("#replaceStr").val().replace("<æ ¼å­åºå·>",a.toString());updateRule(n,t,"<æ ¼å­å†…å®¹>")})},initSudoku=()=>{let e="æ¯ä¸€æ ¼æ˜¯ä»1åˆ°9çš„æ•°å­—\næ¯ä¸€è¡Œäº’ä¸ç›¸åŒ\næ¯ä¸€åˆ—äº’ä¸ç›¸åŒ\nç¬¬[1,2,3,10,11,12,19,20,21]æ ¼äº’ä¸ç›¸åŒ\nç¬¬[4,5,6,13,14,15,22,23,24]æ ¼äº’ä¸ç›¸åŒ\nç¬¬[7,8,9,16,17,18,25,26,27]æ ¼äº’ä¸ç›¸åŒ\n";e+="ç¬¬[28,29,30,37,38,39,46,47,48]æ ¼äº’ä¸ç›¸åŒ\nç¬¬[31,32,33,40,41,42,49,50,51]æ ¼äº’ä¸ç›¸åŒ\nç¬¬[34,35,36,43,44,45,52,53,54]æ ¼äº’ä¸ç›¸åŒ\n",e+="ç¬¬[55,56,57,64,65,66,73,74,75]æ ¼äº’ä¸ç›¸åŒ\nç¬¬[58,59,60,67,68,69,76,77,78]æ ¼äº’ä¸ç›¸åŒ\nç¬¬[61,62,63,70,71,72,79,80,81]æ ¼äº’ä¸ç›¸åŒ\nç¬¬1æ ¼å¤§äº5\n",$("#replaceStr").val("ç¬¬<æ ¼å­åºå·>æ ¼æ˜¯<æ ¼å­å†…å®¹>"),n=9,m=9,$("#rules").val("æ¯ä¸€æ ¼æ˜¯ä»1åˆ°9çš„æ•°å­—\næ¯ä¸€è¡Œäº’ä¸ç›¸åŒ\næ¯ä¸€åˆ—äº’ä¸ç›¸åŒ\nç¬¬[1,2,3,10,11,12,19,20,21]æ ¼äº’ä¸ç›¸åŒ\nç¬¬[4,5,6,13,14,15,22,23,24]æ ¼äº’ä¸ç›¸åŒ\nç¬¬[7,8,9,16,17,18,25,26,27]æ ¼äº’ä¸ç›¸åŒ\nç¬¬[28,29,30,37,38,39,46,47,48]æ ¼äº’ä¸ç›¸åŒ\nç¬¬[31,32,33,40,41,42,49,50,51]æ ¼äº’ä¸ç›¸åŒ\nç¬¬[34,35,36,43,44,45,52,53,54]æ ¼äº’ä¸ç›¸åŒ\nç¬¬[55,56,57,64,65,66,73,74,75]æ ¼äº’ä¸ç›¸åŒ\nç¬¬[58,59,60,67,68,69,76,77,78]æ ¼äº’ä¸ç›¸åŒ\nç¬¬[61,62,63,70,71,72,79,80,81]æ ¼äº’ä¸ç›¸åŒ\nç¬¬1æ ¼å¤§äº5\n"),$("#sudoku-row").html(n),$("#sudoku-col").html(m),generate(n,m)},changeSolverMode=()=>{const e=$("#solverMode").val();if($("#dropHelper").css("display","none"),$("#show-upper").get(0).checked&&$("#show-upper").click(),$("#show-left").get(0).checked&&$("#show-left").click(),"sudoku"===e)initSudoku();else if("mine"===e)$("#replaceStr").val("ç¬¬<æ ¼å­åºå·>æ ¼çš„[æœ¬æ ¼,ä¸Š,ä¸‹,å·¦,å³,å·¦ä¸Š,å³ä¸Š,å·¦ä¸‹,å³ä¸‹]çš„é»‘æ ¼çš„æ•°é‡æ˜¯<æ ¼å­å†…å®¹>"),$("#rules").val('æ¯ä¸€æ ¼æ˜¯ç™½æ ¼æˆ–é»‘æ ¼\næ²¡å¡«çš„æ ¼å­é»˜è®¤æ˜¯"ç¬¬<æ ¼å­åºå·>æ ¼çš„[æœ¬æ ¼,ä¸Š,ä¸‹,å·¦,å³,å·¦ä¸Š,å³ä¸Š,å·¦ä¸‹,å³ä¸‹]çš„é»‘æ ¼çš„æ•°é‡æ˜¯0"\n');else if("magicSquare"===e){let e="æ¯ä¸€æ ¼æ˜¯ä»1åˆ°16çš„æ•°å­—\næ¯ä¸€æ ¼äº’ä¸ç›¸åŒ\næ¯ä¸€åˆ—çš„å’Œæ˜¯34\næ¯ä¸€è¡Œçš„å’Œæ˜¯34\n";$("#rules").val(e),n=4,m=4,$("#sudoku-row").html(n),$("#sudoku-col").html(m),$("#replaceStr").val("ç¬¬<æ ¼å­åºå·>æ ¼æ˜¯<æ ¼å­å†…å®¹>"),generate(n,m)}else if("nonogram"===e){$("#show-upper").get(0).checked||$("#show-upper").click(),$("#show-left").get(0).checked||$("#show-left").click(),$("#upReplaceStr").val("ç¬¬<åˆ—å·>åˆ—ä»ä¸Šåˆ°ä¸‹è¿ç»­çš„é»‘æ ¼é•¿åº¦æ˜¯[<åˆ—åºåˆ—å†…å®¹>]"),$("#leftReplaceStr").val("ç¬¬<è¡Œå·>è¡Œä»å·¦åˆ°å³è¿ç»­çš„é»‘æ ¼é•¿åº¦æ˜¯[<è¡Œåºåˆ—å†…å®¹>]");let e="æ¯ä¸€æ ¼æ˜¯é»‘æ ¼æˆ–ç™½æ ¼\n";for(let t=1;t<=n;t++)e+=`ç¬¬${t}è¡Œä»å·¦åˆ°å³è¿ç»­çš„é»‘æ ¼é•¿åº¦æ˜¯[0]\n`;for(let t=1;t<=m;t++)e+=`ç¬¬${t}åˆ—ä»ä¸Šåˆ°ä¸‹è¿ç»­çš„é»‘æ ¼é•¿åº¦æ˜¯[0]\n`;$("#rules").val(e)}else if("drop"===e){$("#dropHelper").css("display","unset"),$("#replaceStr").val("ç¬¬<æ ¼å­åºå·>æ ¼å¼ºåˆ¶æ˜¯é»‘æ ¼"),$("#upReplaceStr").val("ç¬¬<åˆ—å·>åˆ—é™¤äº†é»‘æ ¼å¤–çš„æ ¼å­æ˜¯[<åˆ—åºåˆ—å†…å®¹>]çš„ä¸€ä¸ªæ’åˆ—");let e="æ¯ä¸€æ ¼æ˜¯ä»aåˆ°zçš„å­—æ¯\nç¬¬5æ ¼å¼ºåˆ¶æ˜¯é»‘æ ¼\nç¬¬10æ ¼å¼ºåˆ¶æ˜¯é»‘æ ¼\nç¬¬15æ ¼å¼ºåˆ¶æ˜¯é»‘æ ¼\nç¬¬23æ ¼å¼ºåˆ¶æ˜¯é»‘æ ¼\nç¬¬28æ ¼å¼ºåˆ¶æ˜¯é»‘æ ¼\nç¬¬33æ ¼å¼ºåˆ¶æ˜¯é»‘æ ¼\nç¬¬37æ ¼å¼ºåˆ¶æ˜¯é»‘æ ¼\nç¬¬43æ ¼å¼ºåˆ¶æ˜¯é»‘æ ¼\nç¬¬46æ ¼å¼ºåˆ¶æ˜¯é»‘æ ¼\nç¬¬1åˆ—é™¤äº†é»‘æ ¼å¤–çš„æ ¼å­æ˜¯[i,h,t,b,e]çš„ä¸€ä¸ªæ’åˆ—\nç¬¬2åˆ—é™¤äº†é»‘æ ¼å¤–çš„æ ¼å­æ˜¯[o,h,c,n,y]çš„ä¸€ä¸ªæ’åˆ—\nç¬¬3åˆ—é™¤äº†é»‘æ ¼å¤–çš„æ ¼å­æ˜¯[i,l]çš„ä¸€ä¸ªæ’åˆ—\nç¬¬4åˆ—é™¤äº†é»‘æ ¼å¤–çš„æ ¼å­æ˜¯[s,t,i,e,d]çš„ä¸€ä¸ªæ’åˆ—\nç¬¬5åˆ—é™¤äº†é»‘æ ¼å¤–çš„æ ¼å­æ˜¯[h,s,v]çš„ä¸€ä¸ªæ’åˆ—\nç¬¬6åˆ—é™¤äº†é»‘æ ¼å¤–çš„æ ¼å­æ˜¯[l,e,e,o]çš„ä¸€ä¸ªæ’åˆ—\nç¬¬7åˆ—é™¤äº†é»‘æ ¼å¤–çš„æ ¼å­æ˜¯[u,g,n,n]çš„ä¸€ä¸ªæ’åˆ—\nç¬¬8åˆ—é™¤äº†é»‘æ ¼å¤–çš„æ ¼å­æ˜¯[t,o,m,l]çš„ä¸€ä¸ªæ’åˆ—\nç¬¬9åˆ—é™¤äº†é»‘æ ¼å¤–çš„æ ¼å­æ˜¯[o,l,u,n,w]çš„ä¸€ä¸ªæ’åˆ—\nç¬¬10åˆ—é™¤äº†é»‘æ ¼å¤–çš„æ ¼å­æ˜¯[a,s,h,e]çš„ä¸€ä¸ªæ’åˆ—\nç¬¬[1,2,3,4]æ ¼æŒ‰é¡ºåºç»„æˆå•è¯\nç¬¬[6,7,8,9]æ ¼æŒ‰é¡ºåºç»„æˆå•è¯\nç¬¬[11,12,13,14]æ ¼æŒ‰é¡ºåºç»„æˆå•è¯\nç¬¬[16,17,18,19,20,21,22]æ ¼æŒ‰é¡ºåºç»„æˆå•è¯\nç¬¬[24,25,26,27]æ ¼æŒ‰é¡ºåºç»„æˆå•è¯\nç¬¬[29,30,31,32]æ ¼æŒ‰é¡ºåºç»„æˆå•è¯\nç¬¬[34,35,36]æ ¼æŒ‰é¡ºåºç»„æˆå•è¯\nç¬¬[38,39,40,41,42]æ ¼æŒ‰é¡ºåºç»„æˆå•è¯\nç¬¬[44,45]æ ¼æŒ‰é¡ºåºç»„æˆå•è¯\nç¬¬[47,48,49,50]æ ¼æŒ‰é¡ºåºç»„æˆå•è¯\n";n=5,m=10,$("#sudoku-row").html(n),$("#sudoku-col").html(m),$("#rules").val(e),generate(n,m),$("#show-upper").get(0).checked||$("#show-upper").click()}else if("simpLoop"===e){let e="";const t=[1,18,86,154,155,222,38,123,125,91,159,260,8,59,144,195,61,112,146,197,231,282,199,63,46,32,51,68,136,286,237,220,133,99,167];for(const a of t)e+=`ç¬¬${a}æ ¼æ˜¯é»‘æ ¼\n`;e+="æ¯ä¸€æ ¼ç©ºç™½çš„æ ¼å­å¯ä»¥å½¢æˆ1æ¡å›è·¯\n",$("#rules").val(e),n=17,m=17,$("#sudoku-row").html(n),$("#sudoku-col").html(m),generate(n,m)}else"hashi"===e&&(n=9,m=9,$("#sudoku-row").html(n),$("#sudoku-col").html(m),generate(n,m),$("#rules").val("ç¬¬1æ ¼è¿å‡ºçš„çº¿æ®µæ€»æ•°ä¸º3,ä¸Šä¸‹å·¦å³çº¿æ®µæ•°é‡ä¸è¶…è¿‡[2,2,2,2]\nç¬¬3æ ¼è¿å‡ºçš„çº¿æ®µæ€»æ•°ä¸º3,ä¸Šä¸‹å·¦å³çº¿æ®µæ•°é‡ä¸è¶…è¿‡[2,2,2,2]\nç¬¬73æ ¼è¿å‡ºçš„çº¿æ®µæ€»æ•°ä¸º4,ä¸Šä¸‹å·¦å³çº¿æ®µæ•°é‡ä¸è¶…è¿‡[2,2,2,2]\nç¬¬30æ ¼è¿å‡ºçš„çº¿æ®µæ€»æ•°ä¸º4,ä¸Šä¸‹å·¦å³çº¿æ®µæ•°é‡ä¸è¶…è¿‡[2,2,2,2]\nç¬¬57æ ¼è¿å‡ºçš„çº¿æ®µæ€»æ•°ä¸º1,ä¸Šä¸‹å·¦å³çº¿æ®µæ•°é‡ä¸è¶…è¿‡[2,2,2,2]\nç¬¬49æ ¼è¿å‡ºçš„çº¿æ®µæ€»æ•°ä¸º4,ä¸Šä¸‹å·¦å³çº¿æ®µæ•°é‡ä¸è¶…è¿‡[2,2,2,2]\nç¬¬51æ ¼è¿å‡ºçš„çº¿æ®µæ€»æ•°ä¸º2,ä¸Šä¸‹å·¦å³çº¿æ®µæ•°é‡ä¸è¶…è¿‡[2,2,2,2]\nç¬¬81æ ¼è¿å‡ºçš„çº¿æ®µæ€»æ•°ä¸º4,ä¸Šä¸‹å·¦å³çº¿æ®µæ•°é‡ä¸è¶…è¿‡[2,2,2,2]\nç¬¬36æ ¼è¿å‡ºçš„çº¿æ®µæ€»æ•°ä¸º4,ä¸Šä¸‹å·¦å³çº¿æ®µæ•°é‡ä¸è¶…è¿‡[2,2,2,2]\nç¬¬6æ ¼è¿å‡ºçš„çº¿æ®µæ€»æ•°ä¸º1,ä¸Šä¸‹å·¦å³çº¿æ®µæ•°é‡ä¸è¶…è¿‡[2,2,2,2]\nç¬¬76æ ¼è¿å‡ºçš„çº¿æ®µæ€»æ•°ä¸º6,ä¸Šä¸‹å·¦å³çº¿æ®µæ•°é‡ä¸è¶…è¿‡[2,2,2,2]\nçº¿æ®µä¹‹é—´äº’ä¸ç›¸äº¤\n"),$("#replaceStr").val("ç¬¬<æ ¼å­åºå·>æ ¼è¿å‡ºçš„çº¿æ®µæ€»æ•°ä¸º<æ ¼å­å†…å®¹>,ä¸Šä¸‹å·¦å³çº¿æ®µæ•°é‡ä¸è¶…è¿‡[2,2,2,2]"))};$("#dropHelper").click(()=>{const e=$("#rules").val().split("\n"),t=new Set;for(const a of e)/^ç¬¬\d+æ ¼.*æ˜¯é»‘æ ¼$/.test(a)&&t.add(parseInt(a.match(/\d+/)[0]));let a="",s="";for(let e=1;e<=n*m+1;e++)if(t.has(e)||e==n*m+1){if(""==a)continue;s+=`ç¬¬[${a}]æ ¼æŒ‰é¡ºåºç»„æˆå•è¯\n`,a=""}else""==a?a=e.toString():a+=","+e.toString();$("#rules").val($("#rules").val()+"\n"+s)}),$("#solveSudoku").click(async()=>{n=parseInt($("#sudoku-row").html()),m=parseInt($("#sudoku-col").html());const e=new Solver.SudokuSolver;await e.solve($("#rules").val().split("\n"),n,m,async()=>{var e;console.info("wtf"),await(e=2,new Promise(t=>setTimeout(t,e)))})});let sudokuColumnArea=[],sudokuRowArea=[];const sudokuChangeInput=e=>{const t=parseInt(e.target.innerText),a=e.target.dataset,n=parseInt(a.idx),s=parseInt(a.col),i=parseInt(a.row),l="row"===a.type?$("#sudoku-left #row-"+i).children():$("#sudoku-upper #col-"+s).children();if(a&&""!==t)"col"===a.type&&n+1===l.length?$("#sudoku-upper #col-"+a.col).prepend(`<div id="col-cell-${a.col}-${n+1}" data-type="col" data-col=${a.col} data-idx=${n+1} contenteditable="true" oninput="sudokuChangeInput(event)" class="col-input">0</div>`):"row"===a.type&&n+1===l.length&&$("#sudoku-left #row-"+a.row).prepend(`<div id="row-cell-${a.row}-${n+1}" data-type="row" data-row=${a.row} data-idx=${n+1} contenteditable="true" oninput="sudokuChangeInput(event)" class="row-input">0</div>`);else if("row"===a.type)for(;sudokuRowArea[i].length>n;)$("#sudoku-upper #row-"+a.row).children().eq(0).remove();else for(;sudokuColumnArea[s].length>n;)$("#sudoku-upper #col-"+a.col).children().eq(0).remove();var o;if("row"===a.type){let e="";for(var r=0;r<l.length;r++){const t=l[r],a=(t.dataset,t.innerText);"0"!==a&&(""===e?e=a:e+=","+a)}o=$("#leftReplaceStr").val().replace("<è¡Œå·>",i+1),updateRule(o,e,"<è¡Œåºåˆ—å†…å®¹>")}else{let e="";for(r=0;r<l.length;r++){const t=l[r],a=(t.dataset,t.innerText);"0"!==a&&(""===e?e=a:e+=","+a)}o=$("#upReplaceStr").val().replace("<åˆ—å·>",s+1),updateRule(o,e,"<åˆ—åºåˆ—å†…å®¹>")}},showUpper=()=>{sudokuColumnArea=[];for(let e=0;e<m;e++)sudokuColumnArea.push([]);$("#sudoku-upper").html("");for(var e=0;e<m;e++)$("#sudoku-upper").append(`<div id="col-${e}" class="col-container"></div>`),$("#sudoku-upper #col-"+e).append(`<div id="col-cell-${e}-0" data-type="col" data-col=${e} data-idx=0 contenteditable="true" oninput="sudokuChangeInput(event)" class="col-input">0</div>`);$("#upperRules").css("display","unset")};$("#show-upper").change(async()=>{$("#show-upper").get(0).checked?showUpper():($("#sudoku-upper").html(""),$("#upperRules").css("display","none"))});const showLeft=()=>{sudokuRowArea=[];for(let e=0;e<m;e++)sudokuRowArea.push([]);$("#sudoku-left").html("");for(var e=0;e<n;e++)$("#sudoku-left").append(`<div id="row-${e}" class="row-container"></div>`),$("#sudoku-left #row-"+e).append(`<div id="row-cell-${e}-0" data-type="row" data-row=${e} data-idx=0 contenteditable="true" oninput="sudokuChangeInput(event)" class="row-input">0</div>`);$("#leftRules").css("display","unset")};$("#show-left").change(async()=>{$("#show-left").get(0).checked?showLeft():($("#sudoku-left").html(""),$("#leftRules").css("display","none"))}),initSudoku(),$("#sudoku-col,#sudoku-row").on("change",e=>{n=parseInt($("#sudoku-row").html()),m=parseInt($("#sudoku-col").html()),$("#show-left").get(0).checked&&showLeft(),$("#show-upper").get(0).checked&&showUpper(),generate(n,m)});let analysisIndex=0;const morseAnalysis=(e,t,a)=>{e.append('<h4 class="analysis-hint">å°è¯•è«æ–¯</h4>'),e.append(`<div id="analysis-bar-${analysisIndex++}" class="analysis-bar"></div>`);let n="";const s=useMethod(6).split("\n");for(const e of t){const t=decodeProcess(s[1],s[0],e.replaceAll(a[0],".").replaceAll(a[1],"-")).trim();t.length>1?n+="*":n+=t}$("#analysis-bar-"+(analysisIndex-1)).append(`<div><b>${a[0]}ä¸ºç‚¹, ${a[1]}ä¸ºé•¿:</b> ${n}</div>`),n="";for(const e of t){const t=decodeProcess(s[1],s[0],e.replaceAll(a[1],".").replaceAll(a[0],"-")).trim();t.length>1?n+="*":n+=t}$("#analysis-bar-"+(analysisIndex-1)).append(`<div><b>${a[1]}ä¸ºç‚¹, ${a[0]}ä¸ºé•¿:</b> ${n}</div>`)};let folderStatus=!1;const systemAnalysis=(e,t,a)=>{const n=substitutionTable[1].split(" ");e.append('<button id="systemCheck">å°è¯•2-36è¿›åˆ¶è½¬10è¿›åˆ¶ +</button>'),e.append(`<div id="analysis-bar-${analysisIndex++}" class="analysis-bar folder" style="${folderStatus?"":"display: none"};"></div>`),$("#systemCheck").click(()=>{console.info("a"),$(".folder")[0].style.display=folderStatus?"none":"block",folderStatus=!folderStatus}),console.info("b");let s=2;for(let e=25,t=36;e>=0;e--,t--)if(a.includes(n[e])){s=t;break}if(2==s)for(let e=9;e>=2;e--)if(a.includes(e)){s=e+1;break}const i=$("#analysis-bar-"+(analysisIndex-1)),l=[2,3,8,16];for(let e=s;e<=36;e++){const a=t.map(t=>parseInt(t,e));i.append(`<div><b ${l.includes(e)?'style="color: red;"':""}>${e}è¿›åˆ¶:</b> ${a.join(" ")}</div>`)}},_roman={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1},romanize=e=>Object.keys(_roman).reduce((t,a)=>{for(;e>=_roman[a];)t+=a,e-=_roman[a];return t},""),deromanize=e=>{const t=new RegExp(/^M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$/);e=e.toUpperCase();if(!t.test(e))return!1;let a=["I","V","X","L","C","D","M"],n={I:1,V:5,X:10,L:50,C:100,D:500,M:1e3},s=0,i=0;for(let t=e.length-1;t>=0;t--)a.indexOf(e[t])>=i?s+=n[e[t]]:s-=n[e[t]],i=a.indexOf(e[t]);return s},numbersAnalysis=(e,t,a)=>{e.append('<h4 class="analysis-hint">å°è¯•æ•°å­—</h4>'),e.append(`<div id="analysis-bar-${analysisIndex++}" class="analysis-bar"></div>`);const n=$("#analysis-bar-"+(analysisIndex-1));if(0===t.filter(e=>e<=0||e>26).length){n.append('<h4 class="analysis-hint">å‘ç°æ‰€æœ‰æ•°å­—éƒ½åœ¨1-26ä¹‹é—´</h4>');const e=t.map(e=>String.fromCharCode(e+96)).join("");n.append(`<div><b>A=1..Z=26:</b> ${e}</div>`)}if(0===t.filter(e=>e<0||e>=26).length){n.append('<h4 class="analysis-hint">å‘ç°æ‰€æœ‰æ•°å­—éƒ½åœ¨0-25ä¹‹é—´</h4>');const e=t.map(e=>String.fromCharCode(e+97)).join("");n.append(`<div><b>A=0..Z=25:</b> ${e}</div>`)}if(0===t.filter(e=>e<=0||e>=255).length){n.append('<h4 class="analysis-hint">å‘ç°æ‰€æœ‰æ•°å­—éƒ½åœ¨1-255ä¹‹é—´,å°è¯•ASCIIç </h4>');const e=t.map(e=>String.fromCharCode(e)).join("");n.append(`<div><b>ASCII:</b> ${e}</div>`)}else if(0===t.filter(e=>e<=0||e>65536).length){n.append('<h4 class="analysis-hint">å‘ç°æ‰€æœ‰æ•°å­—éƒ½åœ¨1-65536ä¹‹é—´,å°è¯•UNICODEç </h4>');const e=t.map(e=>String.fromCharCode(e)).join("");n.append(`<div><b>UNICODE:</b> ${e}</div>`)}if(0===t.filter(e=>e>=118||e<=0).length){n.append('<h4 class="analysis-hint">å‘ç°æ‰€æœ‰æ•°å­—éƒ½åœ¨1-118ä¹‹é—´,å°è¯•å…ƒç´ å‘¨æœŸè¡¨</h4>');const e=useMethod(7).split("\n");let t="";for(const n of a){let a=decodeProcess(e[0],e[1],n).trim();a=a[0].toUpperCase()+a.slice(1),t+=a+" "}n.append(`<div><b>å…ƒç´ ç¬¦å·:</b> ${t}</div>`)}let s=!0,i="";for(const e of t){if(e>3999||e<0){s=!1;break}const t=romanize(e);if(!t){s=!1;break}i+=t+" "}s&&n.append(`<div><b>ç½—é©¬æ•°å­—:</b> ${i}</div>`);if(a.filter(e=>2==e.length&&parseInt(e[0])<=5&&parseInt(e[0])>=1&&parseInt(e[1])<=5&&parseInt(e[1])>=1).length===a.length){n.append('<h4 class="analysis-hint">å‘ç°æ‰€æœ‰æ•°å­—é•¿åº¦éƒ½ä¸º2,ä¸”éƒ½åœ¨1åˆ°5ä¹‹é—´ï¼Œå°è¯•æ£‹ç›˜å¯†ç </h4>');const e=useMethod(4).split("\n");let t="";for(const n of a){t+=decodeProcess(e[1],e[0],n).trim()}$("#analysis-bar-"+(analysisIndex-1)).append(`<div><b>5*5æ£‹ç›˜</b> ${t}</div>`)}},summaryAnalysis=(e,t)=>{e.append('<h4 class="analysis-hint">ç»¼åˆåˆ†æ</h4>'),e.append(`<div id="analysis-bar-${analysisIndex++}" class="analysis-bar"></div>`);const a=$("#analysis-bar-"+(analysisIndex-1)),n=t.length;a.append(`<div>å…±${n}ä¸ªå­—ç¬¦, è¯¦ç»†ç»Ÿè®¡</div>`);const s={};for(let e=0;e<n;e++)s[t[e]]=(s[t[e]]||0)+1;const i=Object.entries(s);for(const e of i)a.append(`<div>${e[0]}: ${e[1]}</div>`);for(let e=2;e*e<=n;e++)if(n%e==0){a.append(`<h4 class="analysis-hint">å°è¯•å°†æ–‡æœ¬é‡æ–°æ’åˆ—æˆ${e} * ${n/e}çš„çŸ©é˜µ:</h4>`);let s="";for(let a=0;a<=n;a+=e)s+=t.substring(a,a+e)+"\n";if(a.append(`<pre>${s.slice(0,-1)}</pre>`),e*e!=n){a.append(`<h4 class="analysis-hint">å°è¯•å°†æ–‡æœ¬é‡æ–°æ’åˆ—æˆ${n/e} * ${e}çš„çŸ©é˜µ:</h4>`),s="";for(let a=0;a<=n;a+=n/e)s+=t.substring(a,a+n/e)+"\n";a.append(`<pre>${s.slice(0,-1)}</pre>`)}}},binaryAnalysis=(e,t,a)=>{let n="";e.append('<h4 class="analysis-hint">å°è¯•äºŒè¿›åˆ¶</h4>'),e.append(`<div id="analysis-bar-${analysisIndex++}" class="analysis-bar"></div>`);const s=$("#analysis-bar-"+(analysisIndex-1));let i=[];for(const e of t){const t=parseInt(e.replaceAll(a[0]," ").replaceAll(a[1],"0").replaceAll(" ","1"),2);i.push(t),n+=t.toString()+" "}s.append(`<div><b>è‹¥${a[0]}ä¸º1, ${a[1]}ä¸º0:</b> ${n}</div>`),s.append(`<div id="analysis-bar-${analysisIndex++}" class="analysis-bar"></div>`),numbersAnalysis($("#analysis-bar-"+(analysisIndex-1)),i,i.map(e=>e.toString())),n="",i=[];for(const e of t){const t=parseInt(e.replaceAll(a[1]," ").replaceAll(a[0],"0").replaceAll(" ","1"),2);i.push(t),n+=t.toString()+" "}s.append(`<div><b>è‹¥${a[1]}ä¸º1, ${a[0]}ä¸º0:</b> ${n}</div>`),s.append(`<div id="analysis-bar-${analysisIndex++}" class="analysis-bar"></div>`),numbersAnalysis($("#analysis-bar-"+(analysisIndex-1)),i,i.map(e=>e.toString()))},elementsAnalysis=(e,t)=>{e.append('<h4 class="analysis-hint">å…ƒç´ åºå·</h4>'),e.append(`<div id="analysis-bar-${analysisIndex++}" class="analysis-bar"></div>`);const a=$("#analysis-bar-"+(analysisIndex-1));let n=[],s="";const i=useMethod(7).split("\n");for(const e of t){const t=decodeProcess(i[1],i[0],e).trim();s+=t+" ",n.push(t)}a.append(`<div><b>å…ƒç´ åºå·:</b> ${s}</div>`),numbersAnalysis(a,n.map(e=>parseInt(e)),n)},lettersAnalysis=(e,t,a)=>{let n=useMethod(0).split("\n");e.append(`<div><b>å­—æ¯åº(a = 1, z = 26): </b>${decodeProcess(n[0],n[1],t)}</div>`),n=useMethod(2).split("\n"),e.append(`<div><b>QWEç¼–ç (a = q): </b>${a.map(e=>decodeProcess(n[0],n[1],e).replaceAll(" ","")).join(" ")}</div>`),n=useMethod(2).split("\n"),e.append(`<div><b>QWEè§£ç (q = a): </b>${a.map(e=>decodeProcess(n[1],n[0],e).replaceAll(" ","")).join(" ")}</div>`),n=useMethod(3).split("\n"),e.append(`<div><b>Atbash: </b>${a.map(e=>decodeProcess(n[0],n[1],e).replaceAll(" ","")).join(" ")}</div>`),n=useMethod(6).split("\n"),e.append(`<div><b>è«æ–¯ç¼–ç : </b>${a.map(e=>decodeProcess(n[0],n[1],e)).join(" ")}</div>`),n=useMethod(8).split("\n"),e.append(`<div><b>ç›²æ–‡: </b>${a.map(e=>decodeProcess(n[0],n[1],e).replaceAll(" ","")).join(" ")}</div>`),e.append('<h4 class="analysis-hint">å‡¯æ’’ç§»ä½(æš´åŠ›)</h4>'),e.append(`<div id="analysis-bar-${analysisIndex++}" class="analysis-bar"></div>`);const s=$("#analysis-bar-"+(analysisIndex-1));for(let e=1;e<26;e++)s.append(`<div><b>ç§»åŠ¨${e}ä½: </b> ${caeser(t,e)}</div>`)},chineseAnalysis=(e,t)=>{e.append(`<div><b>è½¬UNICODE(åå…­è¿›åˆ¶): </b>${(e=>{let t="";for(let a=0;a<e.length;a++){t+="\\u"+("0000"+e.charCodeAt(a).toString(16)).slice(-4)+" "}return t})(t)}</div>`),e.append(`<div><b>è½¬UNICODE(åè¿›åˆ¶): </b>${(e=>{let t="";for(let a=0;a<e.length;a++){t+=e.charCodeAt(a).toString()+" "}return t})(t)}</div>`)},hexAnalysis=(e,t)=>{e.append(`<div><b>UNICODEè½¬å­—ç¬¦(åå…­è¿›åˆ¶): </b>${t.map(e=>String.fromCharCode(e)).reduce((e,t)=>e+t)}</div>`)};$("#smart-analysis-content").on("keyup paste",()=>{analysisIndex=0;const e=$("#smart-analysis-ansers-list");e.html("");const t=$("#smart-analysis-content").val(),a=t.trim().toLowerCase(),n=a.split(/[\s,]+/),s={},i=[];let l=0,o=!0;const r=substitutionTable[9].split(" ");let d=!0,c=!0,p=!1;for(const e of n){for(let t=0;t<e.length;t++)void 0===s[e[t]]?(s[e[t]]=1,i.push(e[t]),l++):s[e[t]]++;o&&!/^-?\d+$/.test(e)&&(o=!1),d&&!r.includes(e)&&(d=!1),c&&!1===/^[a-zA-Z]*$/.test(e)&&(c=!1),e.charCodeAt(0)>256&&(p=!0)}let u=[];for(const e of n){let t=e;if((t.startsWith("\\u")||t.startsWith("0x"))&&(t=t.slice(2)),t.startsWith("&#x")&&(t=t.slice(3)),!/^[0-9a-fA-F]+$/.test(t)){u=[];break}u.push(parseInt(t,16))}if(l<=2){e.append(`<div class="analysis-hint">åªæœ‰ä¸¤ä¸ªå­—ç¬¦, å¼€å§‹äºŒå€¼åˆ†æ</div><div id="analysis-bar-${analysisIndex++}" class="analysis-bar"></div`);const t=analysisIndex-1;morseAnalysis($("#analysis-bar-"+t),n,i),binaryAnalysis($("#analysis-bar-"+t),n,i)}if(o&&numbersAnalysis(e,n.map(e=>parseInt(e)),n),d){e.append('<div class="analysis-hint">å…¨éƒ¨ä¸ºå…ƒç´ ç¬¦å·, å¼€å§‹å…ƒç´ ç¬¦å·åˆ†æ</div>'),e.append(`<div id="analysis-bar-${analysisIndex++}" class="analysis-bar"></div>`);elementsAnalysis($("#analysis-bar-"+(analysisIndex-1)),n)}if(c){let t="",s=!0;const i=[];for(const e of n){const a=deromanize(e);if(!a){s=!1;break}i.push(a),t+=a.toString()+" "}if(s){e.append('<div class="analysis-hint">å…¨éƒ¨ä¸ºç½—é©¬æ•°å­—</div>'),e.append(`<div id="analysis-bar-${analysisIndex++}" class="analysis-bar"></div>`);const a=$("#analysis-bar-"+(analysisIndex-1));a.append(`<div><b>ç½—é©¬æ•°å­—:</b>${t}</div>`),numbersAnalysis(a,i,i.map(e=>e.toString()))}e.append('<div class="analysis-hint">å…¨éƒ¨ä¸ºå­—æ¯, å¼€å§‹åŠ å¯†åˆ†æ</div>'),e.append(`<div id="analysis-bar-${analysisIndex++}" class="analysis-bar"></div>`);lettersAnalysis($("#analysis-bar-"+(analysisIndex-1)),a,n)}if(p){e.append('<div class="analysis-hint">å­˜åœ¨éASCIIå­—ç¬¦</div>'),e.append(`<div id="analysis-bar-${analysisIndex++}" class="analysis-bar"></div>`);chineseAnalysis($("#analysis-bar-"+(analysisIndex-1)),a)}if(0!=u.length){e.append('<div class="analysis-hint">å°è¯•åå…­è¿›åˆ¶</div>'),e.append(`<div id="analysis-bar-${analysisIndex++}" class="analysis-bar"></div>`);hexAnalysis($("#analysis-bar-"+(analysisIndex-1)),u)}e.append(`<div><b>å€’åº:</b>${Array.from(t).reverse().join("")}</div>`),systemAnalysis(e,n,a),summaryAnalysis(e,t)});const canvas=document.getElementById("cvs"),ctx=canvas.getContext("2d");let imageData;ctx.font="20px Arial",ctx.fillStyle="gray",ctx.textAlign="center",ctx.fillText("å¤åˆ¶å›¾ç‰‡åï¼Œctrl+V è½½å…¥å›¾ç‰‡",canvas.width/2,canvas.height/2),document.addEventListener("paste",(function(e){cvsPaste(e)}),!1);const cvsPaste=e=>{if(paste_createImage=function(e){var t=new Image;t.onload=function(){canvas.width=t.width,canvas.height=t.height,ctx.drawImage(t,0,0),imageData=ctx.getImageData(0,0,canvas.width,canvas.height),document.getElementById("cvs-r").width=document.getElementById("cvs-g").width=document.getElementById("cvs-b").width=canvas.width,document.getElementById("cvs-r").height=document.getElementById("cvs-g").height=document.getElementById("cvs-b").height=canvas.height;const e=document.getElementById("cvs-r").getContext("2d"),a=document.getElementById("cvs-g").getContext("2d"),n=document.getElementById("cvs-b").getContext("2d"),s=e.createImageData(canvas.width,canvas.height),i=a.createImageData(canvas.width,canvas.height),l=n.createImageData(canvas.width,canvas.height);for(let e=0;e<imageData.data.length;e+=4)s.data[e]=imageData.data[e],i.data[e+1]=imageData.data[e+1],l.data[e+2]=imageData.data[e+2],s.data[e+3]=i.data[e+3]=l.data[e+3]=255;e.putImageData(s,0,0),a.putImageData(i,0,0),n.putImageData(l,0,0),$("#cvs-rgb").css("display","unset")},t.src=e},e.clipboardData){var t=e.clipboardData.items;if(!t)return;for(var a=!1,n=0;n<t.length;n++)if(-1!==t[n].type.indexOf("image")){var s=t[n].getAsFile(),i=(window.URL||window.webkitURL).createObjectURL(s);paste_createImage(i),a=!0}1==a&&e.preventDefault()}};canvas.addEventListener("mousemove",(function(e){const t=e.pageX-canvas.offsetLeft,a=e.pageY-canvas.offsetTop;$("#cvs-details").html(`<div>x: ${t}, y: ${a}</div><div>RGB(çº¢ç»¿è“): (${imageData.data[4*(a*canvas.width+t)]}, ${imageData.data[4*(a*canvas.width+t)+1]}, ${imageData.data[4*(a*canvas.width+t)+2]})</div>`)}));var ppPoint=function(e,t){this.x=e,this.y=t};let blockMousePressed=!1,ppPointArray=new Array,drawMode="";function ppDrawLine(e,t,a){a.strokeStyle="red";a.lineWidth=parseInt(5),a.beginPath();var n=ppPointArray[ppPointArray.length-1];a.moveTo(n.x,n.y),a.lineTo(e,t),a.closePath(),a.stroke(),ppPointArray.push(new ppPoint(e,t))}$("#cvs").mousedown((function(e){if(1==e.which&&"pen"==drawMode){blockMousePressed=!0;var t=e.pageX-this.offsetLeft,a=e.pageY-this.offsetTop;ppPointArray.push(new ppPoint(t,a)),$(e.target).mousemove((function(e){blockMousePressed&&ppDrawLine(e.pageX-this.offsetLeft,e.pageY-this.offsetTop,e.currentTarget.getContext("2d"))})),$(window).mouseup((function(e){blockMousePressed=!1,rubicCubeStage.draw(),$(e.target).off("mousemove")}))}})),$("#cvs").on("touchstart",(function(e){if("pen"==drawMode){var t=e.originalEvent.changedTouches[0].pageX-this.offsetLeft,a=e.originalEvent.changedTouches[0].pageY-this.offsetTop;blockMousePressed=!0,ppPointArray.push(new ppPoint(t,a)),e.preventDefault(),$(e.target).on("touchmove",(function(e){blockMousePressed&&ppDrawLine(e.originalEvent.changedTouches[0].pageX-this.offsetLeft,e.originalEvent.changedTouches[0].pageY-this.offsetTop,e.currentTarget.getContext("2d"))})),$(window).mouseup((function(e){blockMousePressed=!1,rubicCubeStage.draw(),$(e.target).off("touchmove")}))}})),$("#cvs-tools span").click(e=>{console.info(e.target.id),drawMode=e.target.id})</script>
		<script src="./static/dict.v1.0.min.js"></script>
		<script>if(!localStorage.abc){for(const o in words)localStorage.setItem(o,words[o]);solver=new Solver.OneWord,$("h3").remove()}</script>
		<script src="./out.js"></script>
		
	</body>
</html>
